---
title: react使用 - 01
date: 2020-12-03
tags:
 - react
 - 前端
categories: code
---

## react是什么？
> reacct属于JavaScript的一个库，也可以说是框架，和`vue`和`anguler`并称前端三大框架。 [官方文档](https://react.docschina.org/)


## cdn引入react
[文档链接](https://react.docschina.org/docs/cdn-links.html)
```html
<script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>

```


## 安装react
1. 全局安装 react
```shell
npm i -g create-react-app
```
2. 创建项目

```shell

# 查看react版本
create-react-app -V 

# 创建项目 
create-react-app [project name]

```


## jsx
### jsx的优点
1. jsx执行更快，编译为js代码时进行了优化
2. 类型更安全，在编译中可以及时发现错误
3. Jsx编写编写模板更加简单快速(无法与vue相提并论)
> 以上都是react自己说的

### jsx需要注意的地方
1. 只有一个根节点
2. 正常的HTML标签需要小写，如果是大写默认是组件

### jsx表达式

1. 插入变量可以用`{}` 参考vue`{{}}`
2. 插入属性如果要使用变量，不要加引号  
```jsx
<img  src="{imgsrc}" />  // 错误
<img  src={imgsrc} />  // 正确
```
3. 表达式中间可以使用jsx对象
4. 属性中的class要改成className 因为class是js的关键字


### 在jsx中使用`style`
```jsx
// 在jsx的元素中，不能再使用以前的那种style格式写法

// 错误的写法

<div style="height:100px;"></div> 


// 正确的写法

let style = {
  borderTop:'1px solid #f0f', // 多个单词使用驼峰命名法
  height:'100px'
}
<h1 style={style}>啊哈哈</h1>,
```

### 多个class
```jsx
// 如果我们要写多个类名并且类名中含有变量
let classb = 'bb'
// 错误的写法: 这样写只有后面className会生效 和 vue有所区别
let h1 = <h1 className="aa" className={classb} >啊哈哈</h1>
// 正确的写法
let h2 = <h1 className={"aa" + classb} >啊哈哈</h1>

```

### 在jsx中插入注释
```jsx
<div>
  {/*  这里是注释的内容 */}
</div>
```

## 组件

### 函数式组件定义
> 所谓的函数式组件，实际就是就是函数中 `return` 一个元素对象

```jsx
function FunCom(params) {
  return <h1></h1>
}

```



### 类组件的定义
> 类组件在render函数里面返回元素对象

```jsx
import React from 'react';

class Test  extends React.Component {

  render(){
    return <div>我是一个类组件 哈哈哈</div>
  }
}

export default Test

```
### 组件中的传递参数
- 传递参数

```js

<TestCom  name="张三"  age="18"  />

```

- 接受参数

```js
// 函数式组件定义

function TestCom(params) {
  console.log(params);
  // {name,age}
}

// 类组件
class Test  extends React.Component {
  
  render(){
    console.log(this.props); // {name,age}
    return <div>我是一个类组件 哈哈哈</div>
  }
}



```





### 类组件和函数组件的区别
1. 函数式组件是比较简单的组件，没有事件，仅能接受参数
2. 类组件一般有交互或者数据修改

### 组件生命周期函数
- 组件渲染完成
```js
componentDidMount(){
  console.log('组件渲染完成了');
}
```


## State
> 它的定位类似于的data，使用方式和vue不一致，可以实现双向数据绑定
<br/>
::: tip
在vue中我们修改数据直接 this.aaa = val 就可以实现数据的修改
<br/>

但在react中，需要调用 `this.setState({key:val})` 才可以达到数据的响应

:::




