(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{661:function(s,n,a){"use strict";a.r(n);var t=a(5),e=Object(t.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"前置准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前置准备"}},[s._v("#")]),s._v(" 前置准备")]),s._v(" "),a("ol",[a("li",[s._v("centos linux 服务器一台")]),s._v(" "),a("li",[s._v("确保服务器属于联网状态")])]),s._v(" "),a("h3",{attrs:{id:"关闭防火墙"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关闭防火墙"}},[s._v("#")]),s._v(" 关闭防火墙")]),s._v(" "),a("blockquote",[a("p",[s._v("关闭防护墙可以让我们更方便的使用 linux ，在从学习的角度来说， 安全性暂时不是考虑的问题")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("systemctl stop firewall "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 暂时关闭防火墙，系统重启后会重新启动")]),s._v("\nsystemctl disable firewall "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 永久关闭防火墙")]),s._v("\nsystemctl status firewall "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 永久关闭防火墙")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"关闭-selinux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关闭-selinux"}},[s._v("#")]),s._v(" 关闭 selinux")]),s._v(" "),a("blockquote",[a("p",[s._v("理由同上")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过这个命令查看 selinux 是否开启了")]),s._v("\nsestatus\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果开启可以使用这个命令在config的文件夹内进行修改")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/selinux/config\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"nginx-的安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-的安装"}},[s._v("#")]),s._v(" nginx 的安装")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("windows")]),s._v(" "),a("p",[s._v("nginx 在windows系统下的安装十分简单，直接去下载包解压后，双击程序就能运行")])]),s._v(" "),a("h3",{attrs:{id:"通过源码简单安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过源码简单安装"}},[s._v("#")]),s._v(" 通过源码简单安装")]),s._v(" "),a("h4",{attrs:{id:"前置准备-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前置准备-2"}},[s._v("#")]),s._v(" 前置准备")]),s._v(" "),a("ol",[a("li",[s._v("需要准备"),a("code",[s._v("GCC")]),s._v("编译器\nnginx 是基于 c 语言写的，所以我们需要提前准备好编译器")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y gcc "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n\ngcc --version "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 确认安装成功")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("PCRE")])]),s._v(" "),a("p",[s._v("兼容正则表达式")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("  -y pcre pcre-devel\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa  pcre pcre-devel "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#确认是否安装")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("zlib")])]),s._v(" "),a("p",[s._v("处理压缩")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("  -y zlib zlib-devel\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa  zlib zlib-devel "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#确认是否安装")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("openSSL\n安全通信所需要的")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("  -y openssl openssl-devel\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa  openssl openssl-devel "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#确认是否安装")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"去-nginx-官网下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#去-nginx-官网下载"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"http://nginx.org/en/download.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("去 nginx 官网下载"),a("OutboundLink")],1)]),s._v(" "),a("ol",[a("li",[s._v("选择一个版本的包，右键复制链接下载")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://nginx.org/download/nginx-1.16.1.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("创建一个新的文件夹管理 nginx , 将刚刚下载的包移动过去")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p nginx/core\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" nginx-1.16.1.tar.gz  nginx/core\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" nginx/core\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -xzf  nginx-1.16.1.tar.gz  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解压缩")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("开始安装")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ./nginx-1.16.1.tar.gz\n./configure\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("成功后会 默认安装到"),a("code",[s._v("\\usr\\local\\nginx")]),s._v(" 这个文件夹 我们进入到"),a("code",[s._v("\\sbin")]),s._v("这个目录 直接"),a("code",[s._v(".\\nginx")]),s._v("就可以启动nginx")]),s._v(" "),a("h3",{attrs:{id:"使用yum进行安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用yum进行安装"}},[s._v("#")]),s._v(" 使用yum进行安装")]),s._v(" "),a("p",[s._v("上面的安装方法， 比较复杂。nginx提供了一种相对简单的安装方式，可以在"),a("a",{attrs:{href:"http://nginx.org/en/linux_packages.html#RHEL-CentOS",target:"_blank",rel:"noopener noreferrer"}},[s._v("官服文档"),a("OutboundLink")],1),s._v(" 这个地方找到contos的安装教程，跟着操作就可以了")]),s._v(" "),a("h3",{attrs:{id:"通过源码复杂安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过源码复杂安装"}},[s._v("#")]),s._v(" 通过源码复杂安装")]),s._v(" "),a("p",[s._v("在上面中我们使用简单安装 "),a("code",[s._v("./configure")]),s._v(" 的命令")]),s._v(" "),a("p",[s._v("实际上我们还可以以添加参数的方式实现复杂安装 比如指定安装路径，错误日志输出位置等等")]),s._v(" "),a("p",[s._v("如果要出现安装需要先卸载掉之前安装的")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf /usr/local/nginx\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~/nginx/core/nginx-1.16.1.tar.gz\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" clean\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"nginx-目录解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-目录解析"}},[s._v("#")]),s._v(" nginx 目录解析")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("├── conf\n│   ├── fastcgi.conf\n│   ├── fastcgi.conf.default\n│   ├── fastcgi_params\n│   ├── fastcgi_params.default\n│   ├── koi-utf\n│   ├── koi-win\n│   ├── mime.types\n│   ├── mime.types.default\n│   ├── nginx.conf  # 重点需要配置的目录\n│   ├── nginx.conf.default\n│   ├── scgi_params\n│   ├── scgi_params.default\n│   ├── uwsgi_params\n│   ├── uwsgi_params.default\n│   └── win-utf\n├── html # ngixn 输出的目录\n│   ├── 50x.html # 错误页面\n│   └── index.html # 默认目录\n├── logs # nginx 日志存放的地址\n└── sbin\n    └── nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("h2",{attrs:{id:"nginx的操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx的操作"}},[s._v("#")]),s._v(" nginx的操作")]),s._v(" "),a("h3",{attrs:{id:"如何去查看nginx-master进程和worker进程的pid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何去查看nginx-master进程和worker进程的pid"}},[s._v("#")]),s._v(" 如何去查看nginx master进程和worker进程的pid")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ps -ef | grep nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"nginx-可执行的指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-可执行的指令"}},[s._v("#")]),s._v(" nginx 可执行的指令")]),s._v(" "),a("p",[s._v("我们在"),a("code",[s._v("sbin")]),s._v("目录下就可以找到"),a("code",[s._v("nginx")]),s._v("这个二进制可执行文件  输入 "),a("code",[s._v("nginx -h")]),s._v("可以罗列出nginx所有的可执行命令")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  -?,-h         : this help  （查看帮助）\n  -v            : show version and exit （查看版本信息）\n  -V            : show version and configure options then exit （查看版本信息和配置）\n  -t            : test configuration and exit （测试 nginx.config 文件是否异常）\n  -T            : test configuration, dump it and exit （除了测试异常外，在成功后会输出config的内容）\n  -q            : suppress non-error messages during configuration testing （只输出异常情况）\n  -s signal     : send signal to a master process: stop, quit, reopen, reload （可以加入信号来控制nginx的行为，比如启动、终止、重启等等）\n  -p prefix     : set prefix path (default: /www/server/nginx/) 指定\n  -e filename   : set error log file (default: logs/error.log)   (指定 错误日志输出目录)\n  -c filename   : set configuration file (default: conf/nginx.conf) (指定 config的文件目录)\n  -g directives : set global directives out of configuration file 指定全局配置\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h3",{attrs:{id:"将nginx配置在环境变量内"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#将nginx配置在环境变量内"}},[s._v("#")]),s._v(" 将nginx配置在环境变量内")]),s._v(" "),a("p",[s._v("nginx 配置为环境变量的效果是我们不用在cd到"),a("code",[s._v("/sbin")]),s._v("目录下也能执行"),a("code",[s._v("nginx")]),s._v("这个命令")]),s._v(" "),a("p",[s._v("使用这个指令")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s /usr/local/nginx/sbin/nginx /usr/local/bin/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);