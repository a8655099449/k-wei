(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{651:function(s,e,n){"use strict";n.r(e);var r=n(5),a=Object(r.a)({},(function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("由于之前的服务器过期我没有再续费了，最近又新买了一台阿里云的服务器，但很多东西全部都要重新安装，然后还要去部署之前的几个网站。后面有关于linux服务器的笔记都会统一的记录在此。")]),s._v(" "),n("h2",{attrs:{id:"连接服务器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#连接服务器"}},[s._v("#")]),s._v(" 连接服务器")]),s._v(" "),n("p",[s._v("买后服务器后第一件事就是去对应的服务商控制台启动服务，然后在安全组内开启常用的端口以便我们连接。")]),s._v(" "),n("p",[s._v("然后使用"),n("code",[s._v("shell")]),s._v("工具去连接服务器，一般都使用"),n("code",[s._v("ssh协议")]),s._v("连接会更快速简单一些。 （"),n("strong",[s._v("前提必须要开启"),n("code",[s._v("22")]),s._v("端口")]),s._v("），然后下载一个"),n("code",[s._v("XShell")]),s._v("就可以连接了。")]),s._v(" "),n("h2",{attrs:{id:"安装宝塔"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装宝塔"}},[s._v("#")]),s._v(" 安装宝塔")]),s._v(" "),n("p",[s._v("直接去官网看教程就好了，没啥难的就输入一个指令 "),n("a",{attrs:{href:"https://www.bt.cn/bbs/thread-19376-1-1.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("安装链接"),n("OutboundLink")],1)]),s._v(" "),n("h2",{attrs:{id:"安装git"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装git"}},[s._v("#")]),s._v(" 安装git")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://git-scm.com/book/zh/v2/%E8%B5%B7%E6%AD%A5-%E5%AE%89%E8%A3%85-Git",target:"_blank",rel:"noopener noreferrer"}},[s._v("Git官网安装教程"),n("OutboundLink")],1)]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" dnf "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" git-all\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"安装node"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装node"}},[s._v("#")]),s._v(" 安装node")]),s._v(" "),n("ol",[n("li",[n("a",{attrs:{href:"http://nodejs.cn/download/",target:"_blank",rel:"noopener noreferrer"}},[s._v("前往官网"),n("OutboundLink")],1),s._v(" 复制最新的下载链接")]),s._v(" "),n("li",[s._v("输入指令下载 "),n("code",[s._v("wget https://npm.taobao.org/mirrors/node/v16.4.0/node-v16.4.0-linux-x64.tar.xz")]),s._v(" && "),n("code",[s._v("tar -xvf node-v16.4.0-linux-x64")])]),s._v(" "),n("li",[s._v("cd到bin的目录 "),n("code",[s._v("./node -v")]),s._v(" 来查看node是否安装成功")])]),s._v(" "),n("hr"),s._v(" "),n("h3",{attrs:{id:"将node安装为全局指令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#将node安装为全局指令"}},[s._v("#")]),s._v(" 将node安装为全局指令")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 将我们node的安装目录修改为正常些，这一步其实不重要，但")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v("  node-v16.4.0-linux-x64 node\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 将路径映射到全局")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s /node/nodejs/bin/node /usr/local/bin/\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s /node/nodejs/bin/npm /usr/local/bin/\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("然后我们输入 "),n("code",[s._v("node -v")]),s._v(" 和 "),n("code",[s._v("npm -v")]),s._v(" 验证是否映射成功")]),s._v(" "),n("hr"),s._v(" "),n("h3",{attrs:{id:"将node持续的运行在服务器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#将node持续的运行在服务器"}},[s._v("#")]),s._v(" 将node持续的运行在服务器")]),s._v(" "),n("ol",[n("li",[s._v("全局安装forever "),n("code",[s._v("npm i forever -g")])]),s._v(" "),n("li",[s._v("找到forever的路径，"),n("code",[s._v("find / -name forever")])])]),s._v(" "),n("blockquote",[n("p",[s._v("比如我的就装在 "),n("code",[s._v("/node/nodejs/lib/node_modules/forever/bin/forever")])])]),s._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[s._v("将它映射到全局 "),n("code",[s._v("ls -s /node/nodejs/lib/node_modules/forever/bin/forever /usr/loacl/bin/")])])]),s._v(" "),n("h3",{attrs:{id:"forever的指令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#forever的指令"}},[s._v("#")]),s._v(" forever的指令")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("// "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". 简单的启动\nforever start app.js\n\n// "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(". 指定forever信息输出文件，当然，默认它会放到~/.forever/forever.log\nforever start -l forever.log app.js\n\n// "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(". 指定app.js中的日志信息和错误日志输出文件，\n// -o 就是console.log输出的信息，-e 就是console.error输出的信息\nforever start -o out.log -e err.log app.js\n\n// "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(". 追加日志，forever默认是不能覆盖上次的启动日志，\n// 所以如果第二次启动不加-a，则会不让运行\nforever start -l forever.log -a app.js\n\n// "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(". 监听当前文件夹下的所有文件改动，并重启服务\nforever start -w app.js\n\n// "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(". 显示所有运行的服务\nforever list\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("h2",{attrs:{id:"我遇到的一些问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#我遇到的一些问题"}},[s._v("#")]),s._v(" 我遇到的一些问题")]),s._v(" "),n("ol",[n("li",[s._v("安全组已经开放了，但还是连不通某个端口")])]),s._v(" "),n("p",[s._v("检查一下宝塔的防火墙是否放行了")]),s._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[s._v("nginx代理spa应用的"),n("code",[s._v("history")]),s._v("模式")])])])}),[],!1,null,null,null);e.default=a.exports}}]);