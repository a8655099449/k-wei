---
title: 基于react开发的仿网易云网站
date: 2021-04-27
tags:
 - 前端
 - js
 - react
categories: code
pic: 
desc: 
---

## 开发的目的

在开发这个项目前，我匆促的学习了一周左右的`react`,学习react的感受让我觉得和vue相比，用起来不是很舒服，自己学的好像连皮毛都没有，于是就想开发一个稍微具有一些规模的项目来进一步的了解react。

刚好看到一篇文章提到了网易云的接口（下面会给出接口的github链接），看了一下当前的网易云官网难度好像也不是很大，于是就选择用这个项目作为练手项目。

[在线预览地址](http://music.woai996.com/)

[仓库地址](https://github.com/a8655099449/react-music)


## 技术栈

### **后端接口地址**

使用的是github开源的一个接口仓库，用node部署在了我自己的服务器上，没有做任何修改。 [仓库地址](https://github.com/Binaryify/NeteaseCloudMusicApi)

### **前端部分**

|     库名      | 原因                                                                                 |
| :-----------: | ------------------------------------------------------------------------------------ |
|   **react**   | 重中之重，不用过多介绍。                                                             |
|    **umi**    | umi解决了我很多框架搭建的问题，比如 **按需加载** 、 **样式私有化** 、 **路由配置** |
|   **redux**   | 处理公用数据传输的问题                                                               |
|   **antd**    | 一个项目中如果不放一个知名的UI库我是不放心的 ~ 虽然最后其实也只用到了3个组件而已|
| **axios** | 网络请求                                                             |
| **swiper.js** | 一些轮播图的地方需要用到                                                             |

## 完成的内容

首页 、 个人中心 、 歌单详情 、 歌曲详情 、 专辑详情 、 搜索页面 、 用户信息页面 

本来还想开发更多的页面，但想想除了完成度更高，并不会对技术产生更多理解，所以就暂时停止更新了，后面有空再把细节做好。

## 开发的心得

前面说过，是为了学习react而写的一个项目，所以从写这个项目开始到最后，我对react的好感度和理解也是慢慢增长的。

在前面的部分代码中，比如`首页`，我写的大部分还是`class的组件`，哪怕是一个轮播图我也要动用一个`class`。到后面就全部使用hooks了，使用hooks给我带来的开发体验提升是非常大的，甚至开始觉得写react是一种享受（当然我越写越熟练也是一方面的原因）。

### 可取之处

1. 将公共组件进行抽离以达到更好的复用，比如`评论` 、`歌单、mv方块` 、 `分页` ，在`src\components\` 目录
2. 封装网络请求，进行统一管理 ，在`src\api\` 目录
3. 手撸的播放器组件，这个项目中耗费心血最多的地方，但成也萧何败也萧何，代码有些拉胯。
4. 部分页面的h5响应式设计  **仅有首页、歌单详情 、歌曲详情、个人中心**
5. 手写的订阅者模式，作用于跨组件之间的交互
6. redux进行全局的数据管理 

### 需要优化的地方

1. 前期写的的class组件
2. 播放器代码，虽然已经拆分为三个文件，但还是非常的冗余
3. 对redux的理解不够导致它写的并不优雅。（每次要用都要单独的引入一些代码，感觉不好使）

